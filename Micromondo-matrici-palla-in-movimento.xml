<project name="Micromondo-matrici-palla-in-movimento" app="Snap! 9.0, https://snap.berkeley.edu" version="2"><notes></notes><thumbnail>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAXgElEQVR4Xu2dB3hURfeHz26yqUAgEAEBAaVIUzpCsGL5aBpEBFFBUESRIihFFD7521FAUcSOCDaKYsGOIqBItSAqRSkfYMFQQnqym/99J8/FJCa7d3ez2Wwy45Mnkp07d+65755pvzljyzOS6KQtEBwLXG3TAAbH8vquygIaQA1CUC1QGMDk5GTJyckJao30zfMtUK1aNYmJiano5igM4B9//CFpaWkV/aFD4vlq1aolcXFxIVFXPypZhgAaY53oHR+I/cTvftQ3xC8Ni5CMZj3FVSXB44NoAD2ayLsMEfs3SPTOj7y7qALmdsbVl9SOw0VsNrdPpwGsgC8/lB5JAxhKb6sC1lUDWAFfaig9kgYwlN6Whbp+/vnn0qpVK6ldu3ah3I888oh069ZNzj333H+VsmzZMjUtdc0111i4Q+lm0QBasKfT6ZSwsDA5cuSI1KxZU3Jzc9U0DnNYJJfLJYcPH5YaNWpIRESE+jcrf9nZ2eo381z8phxSamqqysvfbEYn/dixY+rv1atXV38zE+WY+SnD4XDI0aNH1bQF1/FDncLDw6Vq1arqd6NGjeSJJ56QXr16nbxfRkaGrFixQtq0aSNt27ZV96C+8fHx6hqgpW6XXHKJBWuUbhYNoAd78pLPOOMMOfXUU+XQoUPSpUsX2bt3r/z5558ya9YsadeunVx//fXy119/SVRUlDz//POyfv16wascP35c0tPT5YEHHpBTTjlFbrzxRmnSpIns3r1b+vXrJ48++qjce++98sYbbygorrvuOpk2bdrJGk2ePFk2bdokBw4cUMA2b95cvv76awXKM888I7fddpusWrVKwTN27Fg5ceKEvPjiixIdHS1z586VESNGSMuWLaVHjx7ywQcfKA+XmJgoI0eOlP3796s6kf/VV1+VrKwsVZ+yThpAiwDeddddygvef//96qXPnDlTATdkyBD58ssvpX379jJhwgQFIwmoli5dKs8995x8/PHHQhM4fPhwWbhwofI+d955p4Liww8/lIYNG8qaNWsUXN98800hAMnLtV27dlXX4HWnT58uP/zwg8yfP19at24ty5cvV1+Ad955R31ZZs+eLQkJCaouU6ZMUbAPHjxYAQh433//vSxatEjl69ixo6xbt04DGNhvnu8T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</thumbnail><scenes select="1"><scene name="Micromondo-matrici-palla-in-movimento"><notes></notes><palette><category name="Matrix" color="0,116,143,1"/></palette><hidden></hidden><headers></headers><code></code><blocks><block-definition s="Import WebSockets" type="command" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>WSC = function() {&#xD;    var ws = new WebSocket("ws://localhost:20000");&#xD;    var res = [];&#xD;    var opened = false;&#xD;    ws.onopen = function(evt) {&#xD;        console.log("Connection open ...");&#xD;        opened = true;&#xD;    };&#xD;    ws.onmessage = function(evt) {&#xD;        console.log(evt.datat);&#xD;        let data = JSON.parse(evt.data); &#xD;        // if (data.url == location.origin) {&#xD;        console.log(data);&#xD;        let msg = JSON.stringify(data); &#xD;        // console.log(msg);&#xD;        res.push(msg);&#xD;        // }&#xD;    };&#xD;    ws.onclose = function(evt) {&#xD;        console.log("Connection closed.");&#xD;        opened=false;&#xD;    };&#xD;    var send = function(e) {&#xD;        if (opened) {&#xD;            ws.send(JSON.stringify({&#xD;                mess: e,&#xD;                url: location.origin&#xD;            }));&#xD;        }&#xD;    };&#xD;    return { ws: ws, res: res, send: send, opened: ()=&gt;{return opened} };&#xD;};&#xD;return WSC</l></block><list></list></block></script><scripts><script x="30" y="515.4666666666659"><block s="doIf"><block s="reportNot"><custom-block s="WebSockets imported?"></custom-block></block><script></script><list></list></block></script></scripts></block-definition><block-definition s="WebSockets imported?" type="predicate" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return window.WSC||false</l></block><list></list></block></block></script></block-definition><block-definition s="%&apos;ws&apos; got Meshes" type="reporter" category="control"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>ws</l></list><l>return new List(ws.res)</l></block><list><block var="ws"/></list></block></block></script></block-definition><block-definition s="close %&apos;ws&apos;" type="command" category="other"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>ws</l></list><l>ws.ws.close()</l></block><list><block var="ws"/><block var="s"/></list></block></script></block-definition><block-definition s="msgs" type="command" category="variables"><header></header><code></code><translations></translations><inputs></inputs></block-definition><block-definition s="subscribeTopic %&apos;topicName&apos;" type="command" category="Matrix"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><custom-block s="%s send Mesh %s"><block var="ws"/><block s="reportJoinWords"><list><l>{ "cmd": "subscribe", "topic": "</l><block var="topicName"/><l>"}</l></list></block></custom-block></script></block-definition><block-definition s="MsgAvailable" type="predicate" category="Matrix"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>ws</l></list><l>return (ws.res.length &gt; 0);</l></block><list><block var="ws"/></list></block></block></script></block-definition><block-definition s="FetchMsg" type="reporter" category="Matrix"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>msg</l></list></block><block s="doSetVar"><l>msgs</l><custom-block s="%s got Meshes"><block var="ws"/></custom-block></block><block s="doSetVar"><l>msg</l><block s="reportListItem"><l>1</l><block var="msgs"/></block></block><block s="doDeleteFromList"><l>1</l><block var="msgs"/></block><block s="doReport"><block var="msg"/></block></script></block-definition><block-definition s="RemoveFirstMsg" type="reporter" category="Matrix"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>ws</l></list><l>return ws.res.shift()</l></block><list><block var="ws"/></list></block></block></script></block-definition><block-definition s="Spegni la matrice %&apos;IdMatrice&apos;" type="command" category="Matrix"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><custom-block s="publishMsg %txt %txt"><block var="IdMatrice"/><block s="reportJoinWords"><list><l>{ "cmd": "clear" }</l></list></block></custom-block></script></block-definition><block-definition s="publishMsg %&apos;topic&apos; %&apos;msg&apos;" type="command" category="Matrix"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%txt"></input></inputs><script><custom-block s="%s send Mesh %s"><block var="ws"/><block s="reportJoinWords"><list><l>{ "cmd": "publish", "topic": "</l><block var="topic"/><l>", "msg":</l><block var="msg"/><l>}</l></list></block></custom-block></script></block-definition><block-definition s="%&apos;ws&apos; send Mesh %&apos;s&apos;" type="command" category="control"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>ws</l><l>m</l></list><l>ws.send(m)</l></block><list><block var="ws"/><block var="s"/></list></block></script></block-definition><block-definition s="Accendi la matrice %&apos;IdMatrice&apos; colore %&apos;R&apos; %&apos;G&apos; %&apos;B&apos;" type="command" category="Matrix"><header></header><code></code><translations></translations><inputs><input type="%txt"></input><input type="%n"></input><input type="%n"></input><input type="%n"></input></inputs><script><custom-block s="publishMsg %txt %txt"><block var="IdMatrice"/><block s="reportJoinWords"><list><l>{ "cmd": "fillColor", "color": { "r": </l><block var="R"/><l>, "g": </l><block var="G"/><l>, "b": </l><block var="B"/><l>}}</l></list></block></custom-block></script><scripts><script x="347.8461512052095" y="74.23076923076931"><block var="colore"/></script></scripts></block-definition><block-definition s="Connettiti al micromondo fisico delle matrici" type="command" category="Matrix"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="InitMsgBroker"></custom-block></script></block-definition><block-definition s="InitMsgBroker" type="command" category="Matrix"><header></header><code></code><translations></translations><inputs></inputs><script><custom-block s="SetupWS %txt"><l>ws://localhost:20000</l></custom-block><block s="doSetVar"><l>ws</l><custom-block s="A WebSocket"></custom-block></block><block s="doWaitUntil"><custom-block s="opened? %s"><block var="ws"/></custom-block></block></script></block-definition><block-definition s="A WebSocket" type="reporter" category="other"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return WSC();</l></block><list></list></block></block></script></block-definition><block-definition s="opened? %&apos;ws&apos;" type="predicate" category="other"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>ws</l></list><l>return ws.opened()||false</l></block><list><block var="ws"/></list></block></block></script></block-definition><block-definition s="SetupWS %&apos;brokerAddress&apos;" type="command" category="Matrix"><header></header><code></code><translations></translations><inputs><input type="%txt"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>brokerAddress</l></list><l>WSC = function() {&#xD;    var ws = new WebSocket(brokerAddress);&#xD;    var res = [];&#xD;    var opened = false;&#xD;    ws.onopen = function(evt) {&#xD;        console.log("Connection open ...");&#xD;        opened = true;&#xD;    };&#xD;    ws.onmessage = function(evt) {&#xD;        console.log(evt.datat);&#xD;        let data = JSON.parse(evt.data); &#xD;        // if (data.url == location.origin) {&#xD;        console.log(data);&#xD;        let msg = JSON.stringify(data); &#xD;        // console.log(msg);&#xD;        res.push(msg);&#xD;        // }&#xD;    };&#xD;    ws.onclose = function(evt) {&#xD;        console.log("Connection closed.");&#xD;        opened=false;&#xD;    };&#xD;    var send = function(e) {&#xD;        if (opened) {&#xD;            ws.send(e);&#xD;&#xD;/*&#xD;            ws.send(JSON.stringify({&#xD;                mess: e,&#xD;                url: location.origin&#xD;            }));&#xD;*/&#xD;        }&#xD;    };&#xD;    return { ws: ws, res: res, send: send, opened: ()=&gt;{return opened} };&#xD;};&#xD;return WSC</l></block><list><block var="brokerAddress"/></list></block></script></block-definition><block-definition s="Accendi matrice numero %&apos;numero&apos; colore %&apos;R&apos; %&apos;G&apos; %&apos;B&apos;" type="command" category="Matrix"><header></header><code></code><translations></translations><inputs><input type="%n"></input><input type="%n"></input><input type="%n"></input><input type="%n"></input></inputs><script><custom-block s="Accendi la matrice %txt colore %n %n %n"><block s="reportListItem"><block s="reportVariadicSum"><list><block var="numero"/><l>1</l></list></block><block var="mappa matrici"/></block><block var="R"/><block var="G"/><block var="B"/></custom-block></script></block-definition><block-definition s="Inizializza sistema matrici" type="command" category="Matrix"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doSetVar"><l>mappa matrici</l><block s="reportNewList"><list><l>matrix-01</l><l>matrix-02</l><l>matrix-03</l><l>matrix-04</l><l>matrix-05</l><l>matrix-06</l><l>matrix-07</l><l>matrix-08</l></list></block></block><custom-block s="Connettiti al micromondo fisico delle matrici"></custom-block></script></block-definition><block-definition s="Spegni la matrice numero %&apos;numero&apos;" type="command" category="Matrix"><header></header><code></code><translations></translations><inputs><input type="%n"></input></inputs><script><custom-block s="publishMsg %txt %txt"><block s="reportListItem"><block s="reportVariadicSum"><list><block var="numero"/><l>1</l></list></block><block var="mappa matrici"/></block><block s="reportJoinWords"><list><l>{ "cmd": "clear" }</l></list></block></custom-block></script></block-definition></blocks><stage name="Stage" width="480" height="360" costume="0" color="255,255,255,1" tempo="60" threadsafe="false" penlog="false" volume="100" pan="0" lines="round" ternary="false" hyperops="true" codify="false" inheritance="true" sublistIDs="false" id="277"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAOhUlEQVR4Xu3VwQkAAAjEMN1/abewn7jAQRC64wgQIECAAIF3gX1fNEiAAAECBAiMAHsCAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQIHLFxAWmhEwHPAAAAAElFTkSuQmCC</pentrails><costumes><list struct="atomic" id="278"></list></costumes><sounds><list struct="atomic" id="279"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites select="1"><watcher var="ws" style="normal" x="9.999999999999696" y="9.999999999999995" color="243,118,29"/><sprite name="MovingBall" idx="1" x="-68.55799373040757" y="-150.00000000000006" heading="90" scale="1" volume="100" pan="0" rotation="1" draggable="true" costume="0" color="70.17600000000003,0,81.60000000000001,1" pen="tip" id="285"><costumes><list struct="atomic" id="286"></list></costumes><sounds><list struct="atomic" id="287"></list></sounds><blocks></blocks><variables></variables><scripts><script x="37.69230769230769" y="23.692307692307658"><block s="receiveGo"></block><custom-block s="Inizializza sistema matrici"></custom-block><block s="doSetVar"><l>numero matrici</l><l>8</l></block><block s="doSetVar"><l>indice matrice</l><l>0</l></block><block s="doSetVar"><l>passo</l><l>1</l></block><block s="doForever"><script><custom-block s="Accendi matrice numero %n colore %n %n %n"><block var="indice matrice"/><l>255</l><l>0</l><l>0</l></custom-block><block s="doWait"><l>0.5</l></block><custom-block s="Spegni la matrice numero %n"><block var="indice matrice"/></custom-block><block s="doChangeVar"><l>indice matrice</l><block var="passo"/></block><block s="doIf"><block s="reportVariadicEquals"><list><block var="indice matrice"/><block var="numero matrici"/></list></block><script><block s="doSetVar"><l>indice matrice</l><block s="reportDifference"><block var="numero matrici"/><l>2</l></block></block><block s="doSetVar"><l>passo</l><l>-1</l></block></script><list><block s="reportVariadicEquals"><list><block var="indice matrice"/><l>-1</l></list></block><script><block s="doSetVar"><l>indice matrice</l><l>1</l></block><block s="doSetVar"><l>passo</l><l>1</l></block></script></list></block></script></block></script></scripts></sprite><watcher var="mappa matrici" style="normal" x="20.0836820083682" y="20.0836820083682" color="243,118,29" extX="104" extY="91"/><watcher var="passo" style="normal" x="20.0836820083682" y="124.920510125523" color="243,118,29"/><watcher var="numero matrici" style="normal" x="20.0836820083682" y="177.3389241841004" color="243,118,29"/><watcher var="indice matrice" style="normal" x="20.0836820083682" y="72.50209606694561" color="243,118,29"/></sprites></stage><variables><variable name="ws"></variable><variable name="mappa matrici"><list struct="atomic" id="356">matrix-01,matrix-02,matrix-03,matrix-04,matrix-05,matrix-06,matrix-07,matrix-08</list></variable><variable name="passo"><l>-1</l></variable><variable name="numero matrici"><l>8</l></variable><variable name="indice matrice"><l>1</l></variable></variables></scene></scenes></project>